export const OFFSETS = {
    base_offset: {
        0: [[0,0],[0,-2],[0,0],[0,-2]],
        1: [[0,0],[0,-2],[0,0],[0,-2]],
        2: [[0,0],[0,-2],[0,0],[0,-2]],
        3: [[0,0],[0,-2],[0,0],[0,-2]]
    },
    walk: {
        0: [[0,0],[0,0],[0,0],[0,0]],
        1: [[0,0],[0,0],[0,0],[0,0]],
        2: [[0,0],[0,0],[0,0],[0,0]],
        3: [[0,0],[0,0],[0,0],[0,0]]
    },
    run: {
        0: [[0,2],[0,6],[0,2],[0,6]],
        1: [[-2,-2],[-2,-2],[-2,-2],[-2,-2]],
        2: [[2,-2],[2,-2],[2,-2],[2,-2]],
        3: [[0,-2],[0,-2],[0,-2],[0,-2]]
    },
    surf: {
        0: [[0,-6],[0,-4],[0,-6],[0,-4]],
        1: [[-2,-10],[-2,-8],[-2,-10],[-2,-8]],
        2: [[4,-10],[4,-8],[4,-10],[4,-8]],
        3: [[0,-10],[0,-8],[0,-10],[0,-8]]
    },
    dive: {
        0: [[0,-6],[0,-4],[0,-6],[0,-4]],
        1: [[6,-8],[6,-6],[6,-8],[6,-6]],
        2: [[-6,-8],[-6,-6],[-6,-8],[-6,-6]],
        3: [[0,-2],[0,0],[0,-2],[0,0]]
    },
    bike: {
        0: [[0,-2],[2,0],[0,-2],[-2,0]],
        1: [[-4,-4],[-2,-2],[-4,-4],[-6,-2]],
        2: [[4,-4],[2,-2],[4,-4],[6,-2]],
        3: [[0,-2],[-2,0],[0,-2],[2,0]]
    },
    fish: {
        0: [[0,-6],[0,-2],[0,-8],[2,-6]],
        1: [[0,-8],[-6,-6],[0,-8],[2,-8]],
        2: [[0,-8],[6,-6],[0,-8],[-2,-8]],
        3: [[0,-6],[0,-6],[0,-6],[2,-4]]
    }
};

export function calculateOffset(action, direction, frame, withBaseOffset=false) {
    const table = OFFSETS[action];
    if (!table || !table[direction] || frame < 0 || frame > 3) return [0,0];

    let offset = table[direction][frame];
    if (withBaseOffset) {
        const base = OFFSETS.base_offset[direction][frame];
        offset = [offset[0]+base[0], offset[1]+base[1]];
    }
    return offset;
}
